---
layout: post
title: "Embedding a Bokeh Plot"
date: 2025-03-17
---


**Introduction to the Dataset**

This analysis uses publicly available crime data collected by the San Francisco Police Department (SFPD). The dataset contains detailed information about individual crime incidents reported across San Francisco from 2003 to the present day. For each incident, the dataset provides the date and time when the crime was reported, its precise geographical location (latitude and longitude), the type of crime committed (such as theft, assault, drug-related crimes, etc.), and the outcome or resolution of the case.

This data allows us to explore and understand patterns in crime occurrences over time, examine how certain types of crimes cluster geographically in San Francisco neighborhoods, and analyze relationships between different crime categories. In this analysis, we specifically focus on incidents related to drugs and narcotics, examining their temporal trends, geographical hotspots, and correlations with other crime types.

{% raw %}
<!-- Include the BokehJS library (match the version used in your embed data) -->

  <head>
    <meta charset="utf-8">
    <title>Bokeh Plot</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.6.3.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.6.3.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="ccce982b-1761-4e8f-8eaf-15780dc26d57" data-root-id="p1066" style="display: contents;"></div>
  
    <script type="application/json" id="b482b06b-1640-4038-b90c-498a396c64b4">
      {"e3eee5e1-5c39-4983-92a2-284e08f18dcf":{"version":"3.6.3","title":"Bokeh Application","roots":[{"type":"object","name":"Row","id":"p1066","attributes":{"sizing_mode":"stretch_height","children":[{"type":"object","name":"Column","id":"p1065","attributes":{"children":[{"type":"object","name":"Div","id":"p1064","attributes":{"styles":{"type":"map","entries":[["font-size","14px"]]},"text":"&lt;b&gt;Select Crime (Pearson correlation coefficient)&lt;/b&gt;"}},{"type":"object","name":"RadioButtonGroup","id":"p1062","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:active",[{"type":"object","name":"CustomJS","id":"p1063","attributes":{"args":{"type":"map","entries":[["source",{"type":"object","name":"ColumnDataSource","id":"p1001","attributes":{"selected":{"type":"object","name":"Selection","id":"p1002","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1003"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"RgIAAGsBAAAnAQAAyQAAAKUAAABdAAAA8AAAAMYBAAB1AgAAAAMAAHADAABWBAAAXgQAAHAFAAAlBgAAowUAAIYFAABDBQAAtQQAAFMEAAAyAwAApwIAACQDAAAMAwAA2QIAAIYBAABSAQAAJAEAAMMAAABfAAAA9gAAAC0CAACVAgAATwMAALADAADoBAAASwUAAJoGAACgBwAAFwcAAJ0GAAAiBgAAQQUAAJEEAAD3AwAA4AMAAPoDAAAkAwAAbQIAAIQBAABaAQAA9QAAAIgAAABNAAAAGgEAALMCAABnAwAA6AMAAG4EAADyBAAAjgUAAHoHAACbCAAArgcAAGsHAABUBwAAfQYAAGEFAAAOBAAAvwMAADoEAABQAwAAoQIAAJkBAABHAQAA5wAAAHcAAABPAAAA1QAAAGMCAAAMAwAAlwMAAKkDAADZAwAAZQQAALYGAAAeBwAAgQYAAJwGAAAoBgAApgUAALYEAAC6AwAAqAMAAB8EAABrAwAAdgIAAIQBAAA9AQAA1AAAAI4AAABcAAAA6gAAAAMCAACvAgAAIAMAAC4DAAB4AwAAOgQAAH0FAADeBQAAjwUAAKgFAADgBQAA1gQAAGEEAADsAgAArAIAACkDAADuAgAAXQIAAHcBAAAsAQAAmgAAAJMAAABRAAAA8gAAAAkCAAB4AgAAhwIAAAoDAABHAwAAqAMAAA4EAAD0AwAAJQQAAJ0EAADbBAAALAQAAHMDAACBAgAAWwIAACQDAACzAgAA8wEAADwBAAD6AAAApgAAAJ0AAABZAAAAAgEAAKwBAABTAgAAhwIAAKoCAAAoAwAAggMAALcDAADDAwAAhgMAAEYEAACaBAAADQQAAOgCAABDAgAAVgIAAH4DAADxAgAA"},"shape":[168],"dtype":"int32","order":"little"}],["y",[108,64,46,62,53,45,45,53,69,58,91,107,148,141,124,151,131,128,137,115,107,85,100,93,111,73,80,55,42,31,45,67,81,83,91,105,160,132,139,131,164,145,134,134,90,79,81,91,121,68,71,52,44,28,37,67,84,77,102,109,156,152,162,159,175,150,145,102,126,116,100,96,116,55,59,53,42,37,37,55,81,96,93,110,148,119,116,127,153,148,152,120,94,93,99,85,116,67,58,36,45,26,47,59,77,76,99,86,140,113,125,161,139,149,131,124,100,109,77,91,97,96,68,52,47,39,39,60,65,77,75,90,145,112,120,100,119,123,115,93,93,87,105,95,110,78,61,34,42,38,52,60,70,84,73,89,101,110,106,103,127,127,91,98,80,79,97,91]],["hour",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAAApAAAAKgAAACsAAAAsAAAALQAAAC4AAAAvAAAAMAAAADEAAAAyAAAAMwAAADQAAAA1AAAANgAAADcAAAA4AAAAOQAAADoAAAA7AAAAPAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAGcAAABoAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAewAAAHwAAAB9AAAAfgAAAH8AAACAAAAAgQAAAIIAAACDAAAAhAAAAIUAAACGAAAAhwAAAIgAAACJAAAAigAAAIsAAACMAAAAjQAAAI4AAACPAAAAkAAAAJEAAACSAAAAkwAAAJQAAACVAAAAlgAAAJcAAACYAAAAmQAAAJoAAACbAAAAnAAAAJ0AAACeAAAAnwAAAKAAAAChAAAAogAAAKMAAACkAAAApQAAAKYAAACnAAAA"},"shape":[168],"dtype":"int32","order":"little"}],["hour_label",["Monday, 12 AM","Monday, 1 AM","Monday, 2 AM","Monday, 3 AM","Monday, 4 AM","Monday, 5 AM","Monday, 6 AM","Monday, 7 AM","Monday, 8 AM","Monday, 9 AM","Monday, 10 AM","Monday, 11 AM","Monday, 12 PM","Monday, 1 PM","Monday, 2 PM","Monday, 3 PM","Monday, 4 PM","Monday, 5 PM","Monday, 6 PM","Monday, 7 PM","Monday, 8 PM","Monday, 9 PM","Monday, 10 PM","Monday, 11 PM","Tuesday, 12 AM","Tuesday, 1 AM","Tuesday, 2 AM","Tuesday, 3 AM","Tuesday, 4 AM","Tuesday, 5 AM","Tuesday, 6 AM","Tuesday, 7 AM","Tuesday, 8 AM","Tuesday, 9 AM","Tuesday, 10 AM","Tuesday, 11 AM","Tuesday, 12 PM","Tuesday, 1 PM","Tuesday, 2 PM","Tuesday, 3 PM","Tuesday, 4 PM","Tuesday, 5 PM","Tuesday, 6 PM","Tuesday, 7 PM","Tuesday, 8 PM","Tuesday, 9 PM","Tuesday, 10 PM","Tuesday, 11 PM","Wednesday, 12 AM","Wednesday, 1 AM","Wednesday, 2 AM","Wednesday, 3 AM","Wednesday, 4 AM","Wednesday, 5 AM","Wednesday, 6 AM","Wednesday, 7 AM","Wednesday, 8 AM","Wednesday, 9 AM","Wednesday, 10 AM","Wednesday, 11 AM","Wednesday, 12 PM","Wednesday, 1 PM","Wednesday, 2 PM","Wednesday, 3 PM","Wednesday, 4 PM","Wednesday, 5 PM","Wednesday, 6 PM","Wednesday, 7 PM","Wednesday, 8 PM","Wednesday, 9 PM","Wednesday, 10 PM","Wednesday, 11 PM","Thursday, 12 AM","Thursday, 1 AM","Thursday, 2 AM","Thursday, 3 AM","Thursday, 4 AM","Thursday, 5 AM","Thursday, 6 AM","Thursday, 7 AM","Thursday, 8 AM","Thursday, 9 AM","Thursday, 10 AM","Thursday, 11 AM","Thursday, 12 PM","Thursday, 1 PM","Thursday, 2 PM","Thursday, 3 PM","Thursday, 4 PM","Thursday, 5 PM","Thursday, 6 PM","Thursday, 7 PM","Thursday, 8 PM","Thursday, 9 PM","Thursday, 10 PM","Thursday, 11 PM","Friday, 12 AM","Friday, 1 AM","Friday, 2 AM","Friday, 3 AM","Friday, 4 AM","Friday, 5 AM","Friday, 6 AM","Friday, 7 AM","Friday, 8 AM","Friday, 9 AM","Friday, 10 AM","Friday, 11 AM","Friday, 12 PM","Friday, 1 PM","Friday, 2 PM","Friday, 3 PM","Friday, 4 PM","Friday, 5 PM","Friday, 6 PM","Friday, 7 PM","Friday, 8 PM","Friday, 9 PM","Friday, 10 PM","Friday, 11 PM","Saturday, 12 AM","Saturday, 1 AM","Saturday, 2 AM","Saturday, 3 AM","Saturday, 4 AM","Saturday, 5 AM","Saturday, 6 AM","Saturday, 7 AM","Saturday, 8 AM","Saturday, 9 AM","Saturday, 10 AM","Saturday, 11 AM","Saturday, 12 PM","Saturday, 1 PM","Saturday, 2 PM","Saturday, 3 PM","Saturday, 4 PM","Saturday, 5 PM","Saturday, 6 PM","Saturday, 7 PM","Saturday, 8 PM","Saturday, 9 PM","Saturday, 10 PM","Saturday, 11 PM","Sunday, 12 AM","Sunday, 1 AM","Sunday, 2 AM","Sunday, 3 AM","Sunday, 4 AM","Sunday, 5 AM","Sunday, 6 AM","Sunday, 7 AM","Sunday, 8 AM","Sunday, 9 AM","Sunday, 10 AM","Sunday, 11 AM","Sunday, 12 PM","Sunday, 1 PM","Sunday, 2 PM","Sunday, 3 PM","Sunday, 4 PM","Sunday, 5 PM","Sunday, 6 PM","Sunday, 7 PM","Sunday, 8 PM","Sunday, 9 PM","Sunday, 10 PM","Sunday, 11 PM"]],["drug_count",{"type":"ndarray","array":{"type":"bytes","data":"RgIAAGsBAAAnAQAAyQAAAKUAAABdAAAA8AAAAMYBAAB1AgAAAAMAAHADAABWBAAAXgQAAHAFAAAlBgAAowUAAIYFAABDBQAAtQQAAFMEAAAyAwAApwIAACQDAAAMAwAA2QIAAIYBAABSAQAAJAEAAMMAAABfAAAA9gAAAC0CAACVAgAATwMAALADAADoBAAASwUAAJoGAACgBwAAFwcAAJ0GAAAiBgAAQQUAAJEEAAD3AwAA4AMAAPoDAAAkAwAAbQIAAIQBAABaAQAA9QAAAIgAAABNAAAAGgEAALMCAABnAwAA6AMAAG4EAADyBAAAjgUAAHoHAACbCAAArgcAAGsHAABUBwAAfQYAAGEFAAAOBAAAvwMAADoEAABQAwAAoQIAAJkBAABHAQAA5wAAAHcAAABPAAAA1QAAAGMCAAAMAwAAlwMAAKkDAADZAwAAZQQAALYGAAAeBwAAgQYAAJwGAAAoBgAApgUAALYEAAC6AwAAqAMAAB8EAABrAwAAdgIAAIQBAAA9AQAA1AAAAI4AAABcAAAA6gAAAAMCAACvAgAAIAMAAC4DAAB4AwAAOgQAAH0FAADeBQAAjwUAAKgFAADgBQAA1gQAAGEEAADsAgAArAIAACkDAADuAgAAXQIAAHcBAAAsAQAAmgAAAJMAAABRAAAA8gAAAAkCAAB4AgAAhwIAAAoDAABHAwAAqAMAAA4EAAD0AwAAJQQAAJ0EAADbBAAALAQAAHMDAACBAgAAWwIAACQDAACzAgAA8wEAADwBAAD6AAAApgAAAJ0AAABZAAAAAgEAAKwBAABTAgAAhwIAAKoCAAAoAwAAggMAALcDAADDAwAAhgMAAEYEAACaBAAADQQAAOgCAABDAgAAVgIAAH4DAADxAgAA"},"shape":[168],"dtype":"int32","order":"little"}],["other_count",[108,64,46,62,53,45,45,53,69,58,91,107,148,141,124,151,131,128,137,115,107,85,100,93,111,73,80,55,42,31,45,67,81,83,91,105,160,132,139,131,164,145,134,134,90,79,81,91,121,68,71,52,44,28,37,67,84,77,102,109,156,152,162,159,175,150,145,102,126,116,100,96,116,55,59,53,42,37,37,55,81,96,93,110,148,119,116,127,153,148,152,120,94,93,99,85,116,67,58,36,45,26,47,59,77,76,99,86,140,113,125,161,139,149,131,124,100,109,77,91,97,96,68,52,47,39,39,60,65,77,75,90,145,112,120,100,119,123,115,93,93,87,105,95,110,78,61,34,42,38,52,60,70,84,73,89,101,110,106,103,127,127,91,98,80,79,97,91]]]}}}],["line_source",{"type":"object","name":"ColumnDataSource","id":"p1004","attributes":{"selected":{"type":"object","name":"Selection","id":"p1005","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1006"},"data":{"type":"map","entries":[["x_line",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAABAU0CJeTtDYp5YQBLzdobE/F1ATjbZZJOtYUAS83aGxFxkQNavFKj1C2dAm2yyySa7aUBgKVDrV2psQCTm7QyJGW9AdNFFF13kcEDWrxSo9TtyQDmO4ziOk3NAm2yyySbrdED9SoFav0J2QGApUOtXmndAwgcffPDxeEAk5u0MiUl6QIbEvJ0hoXtA6KKLLrr4fEBLgVq/UlB+QK1fKVDrp39ACB988MF/gEA5juM4jiuBQGr9SoFa14FAm2yyySaDgkDM2xkS8y6DQP1KgVq/2oNALrrooouGhEBgKVDrVzKFQJGYtzMk3oVAwgcffPCJhkDzdobEvDWHQCTm7QyJ4YdAVVVVVVWNiECGxLydITmJQLczJObt5IlA6KKLLrqQikAaEvN2hjyLQEuBWr9S6ItAfPDBBx+UjECtXylQ6z+NQN7OkJi3641ADz744IOXjkBArV8pUEOPQHIcx3Ec749A0kUXXXRNkEBq/UqBWqOQQAK1fqVA+ZBAm2yyySZPkUA0JObtDKWRQMzbGRLz+pFAZZNNNtlQkkD9SoFav6aSQJYCtX6l/JJALrroootSk0DHcRzHcaiTQGApUOtX/pNA+OCDDz5UlECRmLczJKqUQClQ61cKAJVAwgcffPBVlUBav1Kg1quVQPN2hsS8AZZAiy666KJXlkAk5u0Mia2WQL2dITFvA5dAVVVVVVVZl0DuDIl5O6+XQIbEvJ0hBZhAH3zwwQdbmEC3MyTm7bCYQFDrVwrUBplA6KKLLrpcmUCBWr9SoLKZQBoS83aGCJpAsskmm2xemkBLgVq/UrSaQOM4juM4CptAfPDBBx9gm0AUqPUrBbabQK1fKVDrC5xARhdddNFhnEDezpCYt7ecQHeGxLydDZ1ADz744INjnUCo9SsFarmdQECtXylQD55A2WSTTTZlnkByHMdxHLueQArU+pUCEZ9Ao4suuuhmn0A7Q2LezryfQGr9SoFaCaBANtlkk000oEACtX6lQF+gQM6QmLcziqBAm2yyySa1oEBnSMzbGeCgQDQk5u0MC6FAAAAAAAA2oUA="},"shape":[100],"dtype":"float64","order":"little"}],["y_line",{"type":"ndarray","array":{"type":"bytes","data":"yFWzmktDRkAqpY14QfRGQIv0Z1Y3pUdA7UNCNC1WSEBOkxwSIwdJQK/i9u8YuElAETLRzQ5pSkBygaurBBpLQNTQhYn6yktANSBgZ/B7TECWbzpF5ixNQPi+FCPc3U1AWg7vANKOTkC7Xcnexz9PQByto7y98E9AP/4+zdlQUEDwJSy8VKlQQKBNGavPAVFAUXUGmkpaUUACnfOIxbJRQLLE4HdAC1JAZOzNZrtjUkAUFLtVNrxSQMQ7qESxFFNAdmOVMyxtU0Ami4Iip8VTQNaybxEiHlRAh9pcAJ12VEA4AkrvF89UQOkpN96SJ1VAmlEkzQ2AVUBKeRG8iNhVQPug/qoDMVZArMjrmX6JVkBc8NiI+eFWQA0Yxnd0OldAvj+zZu+SV0BvZ6BVautXQCCPjUTlQ1hA0LZ6M2CcWECA3mci2/RYQDIGVRFWTVlA4i1CANGlWUCSVS/vS/5ZQER9HN7GVlpA9KQJzUGvWkCmzPa7vAdbQFb046o3YFtABhzRmbK4W0C4Q76ILRFcQGhrq3eoaVxAGJOYZiPCXEDKuoVVnhpdQHrickQZc11AKgpgM5TLXUDcMU0iDyReQIxZOhGKfF5APIEnAAXVXkDuqBTvfy1fQJ7QAd76hV9AUPjuzHXeX0AAEO5deBtgQNijZNW1R2BAsDfbTPNzYECJy1HEMKBgQGJfyDtuzGBAOvM+s6v4YEASh7Uq6SRhQOoaLKImUWFAw66iGWR9YUCbQhmRoalhQHPWjwjf1WFATGoGgBwCYkAk/nz3WS5iQP2R826XWmJA1SVq5tSGYkCtueBdErNiQIVNV9VP32JAXuHNTI0LY0A2dUTEyjdjQA8JuzsIZGNA55wxs0WQY0C/MKgqg7xjQJjEHqLA6GNAcFiVGf4UZEBJ7AuRO0FkQCGAggh5bWRA+RP5f7aZZEDSp2/388VkQKo75m4x8mRAgs9c5m4eZUBaY9NdrEplQDP3SdXpdmVAC4vATCejZUDjHjfEZM9lQLuyrTui+2VAlEYks98nZkBs2poqHVRmQEVuEaJagGZAHQKIGZisZkA="},"shape":[100],"dtype":"float64","order":"little"}]]}}}],["data_dict",{"type":"map","entries":[["STOLEN PROPERTY",[108,64,46,62,53,45,45,53,69,58,91,107,148,141,124,151,131,128,137,115,107,85,100,93,111,73,80,55,42,31,45,67,81,83,91,105,160,132,139,131,164,145,134,134,90,79,81,91,121,68,71,52,44,28,37,67,84,77,102,109,156,152,162,159,175,150,145,102,126,116,100,96,116,55,59,53,42,37,37,55,81,96,93,110,148,119,116,127,153,148,152,120,94,93,99,85,116,67,58,36,45,26,47,59,77,76,99,86,140,113,125,161,139,149,131,124,100,109,77,91,97,96,68,52,47,39,39,60,65,77,75,90,145,112,120,100,119,123,115,93,93,87,105,95,110,78,61,34,42,38,52,60,70,84,73,89,101,110,106,103,127,127,91,98,80,79,97,91]],["VEHICLE THEFT",[284,167,158,139,118,70,104,249,337,468,525,576,583,512,464,418,490,431,337,325,286,233,268,269,294,191,177,123,131,97,138,220,353,487,537,575,647,550,450,416,507,433,351,280,242,236,284,262,301,194,139,166,111,103,88,247,367,478,488,499,521,488,420,391,459,407,316,329,277,268,296,277,295,176,153,133,128,76,86,218,324,464,514,508,447,467,407,410,442,370,338,270,247,225,284,236,293,198,147,146,135,101,104,208,303,398,452,447,480,405,371,348,361,374,321,260,219,207,206,242,255,152,179,144,121,103,99,164,193,234,266,309,337,299,253,290,319,259,254,198,193,188,215,225,234,145,136,117,107,91,87,147,185,230,231,307,338,269,222,286,288,328,278,245,184,200,231,227]],["LARCENY/THEFT",[4710,2452,1754,1416,1090,1232,1714,2719,4289,4679,5528,5911,7579,6232,6178,6497,7079,8647,10382,9456,8311,6646,5771,4458,4280,2156,1625,1306,994,1068,1663,2662,4245,4552,5224,5721,7170,5954,6089,6317,7118,8538,10795,10016,8665,6990,6221,4798,4562,2339,1654,1259,1095,1139,1747,2753,4308,4715,5559,5871,7669,6221,6387,6933,7409,8837,10820,10130,8924,7218,6402,4949,4646,2369,1731,1301,1034,1102,1691,2560,4189,4523,5311,5805,7409,5928,6290,6741,7129,8553,10487,10092,8976,7615,6800,5592,5501,2930,2170,1565,1125,1110,1681,2626,4143,4783,5879,6441,8079,6758,6789,7648,8227,10128,11286,10207,9355,8276,8568,8441,7267,4789,3089,1901,1241,1085,1309,1709,3043,3955,5597,6333,8104,6840,7224,7768,7812,8518,9292,8409,8416,7790,8741,9203,7570,5205,3500,2081,1302,1043,1320,1613,2681,3685,5120,6328,7886,6660,6971,7289,7283,8238,8503,7521,7338,6357,6237,4897]],["WEAPON LAWS",[214,147,134,110,67,57,67,89,113,135,162,209,232,241,229,258,284,268,274,269,241,243,257,210,218,179,121,85,62,51,72,103,129,172,197,210,258,234,269,266,272,249,280,262,246,211,221,218,199,126,111,72,76,60,68,112,140,159,175,214,276,317,281,322,315,334,272,261,244,261,252,200,224,175,130,94,61,61,75,113,139,161,178,194,209,246,265,275,272,243,293,301,228,245,295,262,264,173,156,100,72,61,68,111,136,172,155,158,248,222,240,263,290,265,257,281,239,308,315,303,313,273,295,169,102,58,52,97,105,138,129,158,169,148,179,223,209,257,241,209,231,237,311,313,304,251,231,153,99,42,58,61,85,110,117,155,166,184,184,191,236,250,189,228,206,232,273,244]],["ASSAULT",[1457,1117,1038,514,429,351,469,736,1161,1213,1354,1443,1738,1552,1559,1807,1753,1714,1737,1599,1523,1469,1328,1232,1321,896,798,485,384,318,500,749,1100,1284,1359,1444,1848,1631,1582,1806,1803,1687,1706,1554,1491,1558,1355,1230,1309,921,781,477,393,346,529,793,1143,1292,1425,1474,1792,1623,1722,1812,1777,1754,1668,1586,1488,1533,1372,1286,1319,1038,865,483,372,389,472,808,1135,1248,1345,1424,1735,1571,1546,1763,1715,1688,1598,1510,1489,1473,1495,1348,1639,1240,1077,588,363,356,457,745,1088,1328,1351,1487,1764,1575,1590,1849,1881,1732,1738,1641,1701,1753,1767,1879,2270,2533,2234,1017,557,452,466,598,892,977,1236,1366,1569,1408,1575,1575,1596,1672,1730,1639,1680,1849,1863,1986,2363,2800,2571,1118,629,413,487,560,785,933,1086,1271,1529,1449,1411,1611,1634,1738,1640,1737,1647,1715,1557,1377]],["BURGLARY",[955,604,718,843,844,637,491,680,1006,856,773,740,1031,630,702,766,910,1165,1218,1013,898,858,851,763,859,587,772,827,798,623,494,720,1012,912,853,699,935,629,679,773,980,1220,1293,1002,946,851,831,773,892,583,725,868,849,608,539,729,1131,906,833,779,1031,729,773,872,922,1291,1315,983,942,889,863,772,914,613,688,859,790,585,489,742,1009,916,835,778,1012,693,697,845,1051,1361,1233,1000,923,882,885,745,945,644,740,795,766,661,521,668,1032,911,865,795,1137,728,911,1190,1397,1969,1798,1267,985,908,863,840,981,599,727,802,822,669,460,339,513,523,674,677,1062,614,794,892,941,1103,1092,880,840,863,894,930,949,668,740,844,766,736,521,375,523,502,594,616,891,583,642,724,777,1003,948,769,832,831,869,820]],["ROBBERY",[485,468,434,242,204,212,187,162,218,270,315,318,416,479,479,524,637,625,620,570,682,738,645,609,503,430,364,274,167,175,177,153,211,282,336,378,415,454,488,564,581,572,617,591,637,707,690,586,458,424,418,248,178,191,195,171,229,249,356,411,410,503,497,570,609,559,567,578,664,667,678,580,450,467,440,284,206,190,193,205,255,291,292,357,458,443,488,515,570,537,533,619,616,701,646,560,518,481,481,252,190,145,183,217,225,281,317,369,419,471,459,541,574,547,580,623,645,731,725,726,664,791,881,518,315,244,177,169,182,235,315,333,367,350,387,428,450,518,564,595,596,724,673,746,704,789,873,545,318,253,222,172,176,218,227,311,355,350,427,413,473,501,465,520,618,655,648,609]],["VANDALISM",[843,511,473,368,230,199,293,406,576,518,441,460,620,459,551,591,666,958,1185,1050,984,999,935,828,807,503,428,318,258,216,288,398,565,510,472,418,587,436,507,625,658,866,1115,1058,1032,1006,989,842,768,496,467,330,240,214,284,385,579,473,519,457,619,476,534,639,666,979,1156,1070,975,1029,1002,858,757,553,501,346,279,231,233,376,528,507,514,403,583,460,470,606,696,917,1154,1039,1020,1038,975,940,908,633,595,362,248,248,261,388,551,533,508,504,660,474,611,763,898,1263,1487,1218,1219,1182,1360,1280,1180,884,900,582,356,266,257,293,434,416,520,514,686,572,665,747,827,1021,1153,1077,1188,1234,1384,1377,1197,957,937,608,346,267,252,269,374,409,511,545,774,575,618,707,764,902,1014,935,1007,1072,1076,911]],["PROSTITUTION",[143,85,68,52,36,38,52,27,13,13,21,21,38,38,33,23,14,32,55,66,53,56,102,126,169,134,141,134,137,94,69,41,32,23,24,35,109,96,47,44,41,127,278,258,194,306,342,247,166,122,120,88,87,85,68,34,18,15,34,33,77,62,61,34,76,150,341,399,285,331,400,332,261,195,135,80,90,142,93,40,26,29,38,75,177,73,123,72,103,196,312,354,302,290,314,307,210,181,101,82,58,196,159,71,26,40,30,27,93,51,41,83,62,95,157,216,182,212,248,324,305,226,148,71,37,6,44,32,18,21,29,14,17,11,16,10,13,21,25,47,60,96,198,263,213,171,120,76,40,18,46,32,23,18,18,14,16,14,3,2,7,9,16,35,24,42,79,114]],["x",[582,363,295,201,165,93,240,454,629,768,880,1110,1118,1392,1573,1443,1414,1347,1205,1107,818,679,804,780,729,390,338,292,195,95,246,557,661,847,944,1256,1355,1690,1952,1815,1693,1570,1345,1169,1015,992,1018,804,621,388,346,245,136,77,282,691,871,1000,1134,1266,1422,1914,2203,1966,1899,1876,1661,1377,1038,959,1082,848,673,409,327,231,119,79,213,611,780,919,937,985,1125,1718,1822,1665,1692,1576,1446,1206,954,936,1055,875,630,388,317,212,142,92,234,515,687,800,814,888,1082,1405,1502,1423,1448,1504,1238,1121,748,684,809,750,605,375,300,154,147,81,242,521,632,647,778,839,936,1038,1012,1061,1181,1243,1068,883,641,603,804,691,499,316,250,166,157,89,258,428,595,647,682,808,898,951,963,902,1094,1178,1037,744,579,598,894,753]],["hours",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167]]]}],["buttons",{"id":"p1062"}],["plot",{"type":"object","name":"Figure","id":"p1008","attributes":{"width":650,"height":450,"x_range":{"type":"object","name":"DataRange1d","id":"p1009"},"y_range":{"type":"object","name":"DataRange1d","id":"p1010"},"x_scale":{"type":"object","name":"LinearScale","id":"p1018"},"y_scale":{"type":"object","name":"LinearScale","id":"p1019"},"title":{"type":"object","name":"Title","id":"p1011","attributes":{"text":"DRUG/NARCOTIC vs STOLEN PROPERTY"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1046","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1047","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1048"}}},"glyph":{"type":"object","name":"Scatter","id":"p1043","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":7},"line_color":{"type":"field","field":"hour","transform":{"type":"object","name":"LinearColorMapper","id":"p1007","attributes":{"palette":["#30123b","#311542","#32184a","#341b51","#351e58","#36215f","#372365","#38266c","#392972","#3a2c79","#3b2f7f","#3c3285","#3c358b","#3d3791","#3e3a96","#3f3d9c","#4040a1","#4043a6","#4145ab","#4148b0","#424bb5","#434eba","#4350be","#4353c2","#4456c7","#4458cb","#455bce","#455ed2","#4560d6","#4563d9","#4666dd","#4668e0","#466be3","#466de6","#4670e8","#4673eb","#4675ed","#4678f0","#467af2","#467df4","#467ff6","#4682f8","#4584f9","#4587fb","#4589fc","#448cfd","#438efd","#4291fe","#4193fe","#4096fe","#3f98fe","#3e9bfe","#3c9dfd","#3ba0fc","#39a2fc","#38a5fb","#36a8f9","#34aaf8","#33acf6","#31aff5","#2fb1f3","#2db4f1","#2bb6ef","#2ab9ed","#28bbeb","#26bde9","#25c0e6","#23c2e4","#21c4e1","#20c6df","#1ec9dc","#1dcbda","#1ccdd7","#1bcfd4","#1ad1d2","#19d3cf","#18d5cc","#18d7ca","#17d9c7","#17dac4","#17dcc2","#17debf","#18e0bd","#18e1ba","#19e3b8","#1ae4b6","#1be5b4","#1de7b1","#1ee8af","#20e9ac","#22eba9","#24eca6","#27eda3","#29eea0","#2cef9d","#2ff09a","#32f197","#35f394","#38f491","#3bf48d","#3ff58a","#42f687","#46f783","#4af880","#4df97c","#51f979","#55fa76","#59fb72","#5dfb6f","#61fc6c","#65fc68","#69fd65","#6dfd62","#71fd5f","#74fe5c","#78fe59","#7cfe56","#80fe53","#84fe50","#87fe4d","#8bfe4b","#8efe48","#92fe46","#95fe44","#98fe42","#9bfd40","#9efd3e","#a1fc3d","#a4fc3b","#a6fb3a","#a9fb39","#acfa37","#aef937","#b1f836","#b3f835","#b6f735","#b9f534","#bbf434","#bef334","#c0f233","#c3f133","#c5ef33","#c8ee33","#caed33","#cdeb34","#cfea34","#d1e834","#d4e735","#d6e535","#d8e335","#dae236","#dde036","#dfde36","#e1dc37","#e3da37","#e5d838","#e7d738","#e8d538","#ead339","#ecd139","#edcf39","#efcd39","#f0cb3a","#f2c83a","#f3c63a","#f4c43a","#f6c23a","#f7c039","#f8be39","#f9bc39","#f9ba38","#fab737","#fbb537","#fbb336","#fcb035","#fcae34","#fdab33","#fda932","#fda631","#fda330","#fea12f","#fe9e2e","#fe9b2d","#fe982c","#fd952b","#fd9229","#fd8f28","#fd8c27","#fc8926","#fc8624","#fb8323","#fb8022","#fa7d20","#fa7a1f","#f9771e","#f8741c","#f7711b","#f76e1a","#f66b18","#f56817","#f46516","#f36315","#f26014","#f15d13","#ef5a11","#ee5810","#ed550f","#ec520e","#ea500d","#e94d0d","#e84b0c","#e6490b","#e5460a","#e3440a","#e24209","#e04008","#de3e08","#dd3c07","#db3a07","#d93806","#d73606","#d63405","#d43205","#d23005","#d02f04","#ce2d04","#cb2b03","#c92903","#c72803","#c52602","#c32402","#c02302","#be2102","#bb1f01","#b91e01","#b61c01","#b41b01","#b11901","#ae1801","#ac1601","#a91501","#a61401","#a31201","#a01101","#9d1001","#9a0e01","#970d01","#940c01","#910b01","#8e0a01","#8b0901","#870801","#840701","#810602","#7d0502","#7a0402"],"low":0,"high":167}}},"line_alpha":{"type":"value","value":0.6},"fill_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"fill_alpha":{"type":"value","value":0.6},"hatch_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"hatch_alpha":{"type":"value","value":0.6}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1044","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":7},"line_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1045","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":7},"line_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"field","field":"hour","transform":{"id":"p1007"}},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1055","attributes":{"data_source":{"id":"p1004"},"view":{"type":"object","name":"CDSView","id":"p1056","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1057"}}},"glyph":{"type":"object","name":"Line","id":"p1052","attributes":{"x":{"type":"field","field":"x_line"},"y":{"type":"field","field":"y_line"},"line_width":2,"line_dash":[6]}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1053","attributes":{"x":{"type":"field","field":"x_line"},"y":{"type":"field","field":"y_line"},"line_alpha":0.1,"line_width":2,"line_dash":[6]}},"muted_glyph":{"type":"object","name":"Line","id":"p1054","attributes":{"x":{"type":"field","field":"x_line"},"y":{"type":"field","field":"y_line"},"line_alpha":0.2,"line_width":2,"line_dash":[6]}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1017","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1030"},{"type":"object","name":"BoxZoomTool","id":"p1031","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1032","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1038","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1037","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"ResetTool","id":"p1039"},{"type":"object","name":"HoverTool","id":"p1061","attributes":{"renderers":"auto","tooltips":[["Time","@hour_label"],["Drug/Narcotic","@drug_count"],["Other Crime","@other_count"]],"point_policy":"follow_mouse"}}]}},"toolbar_location":"above","left":[{"type":"object","name":"LinearAxis","id":"p1025","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1026","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1027"},"axis_label":"Number of STOLEN PROPERTY Incidents (per hour of week)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1028"}}}],"right":[{"type":"object","name":"ColorBar","id":"p1059","attributes":{"location":[0,0],"title":"Hour of the Week","ticker":{"type":"object","name":"FixedTicker","id":"p1058","attributes":{"ticks":[0,24,48,72,96,120,144,167],"minor_ticks":[]}},"major_label_overrides":{"type":"map","entries":[[0,"Mon 00:00"],[24,"Tue 00:00"],[48,"Wed 00:00"],[72,"Thu 00:00"],[96,"Fri 00:00"],[120,"Sat 00:00"],[144,"Sun 00:00"],[167,"Sun 23:00"]]},"major_label_policy":{"type":"object","name":"NoOverlap","id":"p1060"},"label_standoff":12,"color_mapper":{"id":"p1007"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1020","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1021","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1022"},"axis_label":"Number of Drug/Narcotic Incidents (per hour of week)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1023"}}}],"center":[{"type":"object","name":"Grid","id":"p1024","attributes":{"axis":{"id":"p1020"}}},{"type":"object","name":"Grid","id":"p1029","attributes":{"dimension":1,"axis":{"id":"p1025"}}}],"output_backend":"svg"}}],["crime_keys",["STOLEN PROPERTY","VEHICLE THEFT","LARCENY/THEFT","WEAPON LAWS","ASSAULT","BURGLARY","ROBBERY","VANDALISM","PROSTITUTION"]]]},"code":"\n    const crime = crime_keys[buttons.active];\n    const x = data_dict['x'];\n    const y = data_dict[crime];\n    const hour = data_dict['hours'];\n\n    function formatHourLabel(hour) {\n        const days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n        const day = days[Math.floor(hour / 24)];\n        let h = hour % 24;\n        const suffix = h &lt; 12 ? \"AM\" : \"PM\";\n        h = h % 12;\n        h = h === 0 ? 12 : h;\n        return `${day}, ${h} ${suffix}`;\n    }\n    const hour_label = hour.map(formatHourLabel);\n\n    source.data = {\n        x: x,\n        y: y,\n        hour: hour,\n        hour_label: hour_label,\n        drug_count: x,\n        other_count: y\n    };\n\n    const n = x.length;\n    let sum_x = 0, sum_y = 0, sum_xy = 0, sum_x2 = 0;\n    for (let i = 0; i &lt; n; i++) {\n        sum_x += x[i];\n        sum_y += y[i];\n        sum_xy += x[i] * y[i];\n        sum_x2 += x[i] * x[i];\n    }\n    const slope = (n * sum_xy - sum_x * sum_y) / (n * sum_x2 - sum_x * sum_x);\n    const intercept = (sum_y - slope * sum_x) / n;\n\n    const x_line = line_source.data['x_line'];\n    const y_line = x_line.map(x_val =&gt; slope * x_val + intercept);\n    line_source.data = { x_line: x_line, y_line: y_line };\n\n    plot.title.text = 'DRUG/NARCOTIC vs ' + crime;\n    plot.yaxis.axis_label = 'Number of ' + crime + ' Incidents (per hour of week)';\n"}}]]]},"width":220,"labels":["STOLEN PROPERTY (0.89)","VEHICLE THEFT (0.79)","LARCENY/THEFT (0.74)","WEAPON LAWS (0.73)","ASSAULT (0.63)","BURGLARY (0.46)","ROBBERY (0.40)","VANDALISM (0.36)","PROSTITUTION (0.04)"],"orientation":"vertical","active":0}}]}},{"id":"p1008"}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('b482b06b-1640-4038-b90c-498a396c64b4').textContent;
              const render_items = [{"docid":"e3eee5e1-5c39-4983-92a2-284e08f18dcf","roots":{"p1066":"ccce982b-1761-4e8f-8eaf-15780dc26d57"},"root_ids":["p1066"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>




<!-- The div where the Bokeh plot will be rendered -->
<div id="e30f7422-b52a-4808-a3c5-84bf9532fc4d" data-root-id="p1008" style="display: contents;"></div>
{% endraw %}
